# charles æŠ“åŒ…

æ“ä½œç³»ç»Ÿï¼š macbook

## 1. å®‰è£… charles

```
brew install charles
```

å®‰è£…æˆåŠŸä¹‹åï¼Œæ‰“å¼€å³å¯æŠ“å– `http` è¯·æ±‚ï¼Œä½†æ˜¯ä¸èƒ½æŠ“å– `https` è¯·æ±‚, ä¼šå‘ç°æœ‰ç€ `<unknown>`

## 2. ç”µè„‘ç«¯é…ç½®

### ä¸‹è½½è¯ä¹¦

`help` ğŸ‘‰ `SSL Proxying` ğŸ‘‰ `Install Charles Root Certificate`

![cert](/images/charles/1.png)

> æœ‰çš„æ—¶å€™é’¥åŒ™ä¸²ä¼šæç¤ºå®‰è£…å¤±è´¥ï¼Œè¿™ä¸ªæ—¶å€™ç‚¹å‡» `Save Charles Root Certificate...`, ç„¶åæŠŠä¸‹è½½å¥½çš„æ–‡ä»¶æ‹–åŠ¨åˆ°é’¥åŒ™ä¸²å³å¯

### ä¿¡ä»»è¯ä¹¦

é’¥åŒ™ä¸²ä¸­æœç´¢å…³é”®å­— `Charles` æ‰¾åˆ°åˆšå®‰è£…çš„è¯ä¹¦ï¼Œæ­¤æ—¶è¯ä¹¦çŠ¶æ€ä¸ºæ­¤æ ¹è¯ä¹¦ä¸è¢«ä¿¡ä»»

![cert](/images/charles/2.png)

åŒå‡»æ‰“å¼€è¯ä¹¦ï¼Œè®¾ç½®ä¸º`å§‹ç»ˆä¿¡ä»»`ï¼Œè¾“å…¥ç”µè„‘å¯†ç ï¼ˆæ— å¯†ç çš„æ‰“æ‰°äº†ï¼‰

![cert](/images/charles/3.png)

ä¿¡ä»»åè¯ä¹¦çš„çŠ¶æ€ æ­¤è¯ä¹¦å·²æ ‡è®°ä¸ºå—æ­¤è´¦æˆ·ä¿¡ä»» ğŸ‘‡

![cert](/images/charles/4.png)

### å…è®¸æ‰€æœ‰è®¿é—®

`Charles` ğŸ‘‰ `Proxy` ğŸ‘‰ `SSL Proxying Setting` ğŸ‘‰ `Include`

`host` å’Œ `port` æ·»åŠ  `*` å³å¯å…è®¸æ‰€æœ‰è¯·æ±‚

![cert](/images/charles/5.png)

> `Enable SSL Proxying` å¿…é¡»è¦å‹¾é€‰ â˜‘ï¸

## 3. ç§»åŠ¨ç«¯é…ç½®

ä»¥ `iphone` ä¸ºä¾‹

### æ‰“å¼€è¯ä¹¦è®¿é—®åœ°å€

![cert](/images/charles/6.png)

![cert](/images/charles/7.png)

### wifi è®¾ç½®ä»£ç†

ä¿è¯ Wi-Fi å¤„äºåŒä¸€ç½‘ç»œï¼Œ`è®¾ç½®` ğŸ‘‰ `æ— çº¿å±€åŸŸç½‘` ğŸ‘‰ `è¿›å…¥å½“å‰ç½‘ç»œè¯¦æƒ…` ğŸ‘‰ `é…ç½®ä»£ç†`

![cert](/images/charles/8.png)

### ä¸‹è½½è¯ä¹¦

`Safari æµè§ˆå™¨ ` ğŸ‘‰ `chls.pro/ssl` ğŸ‘‰ `å…è®¸`

![cert](/images/charles/9.png)

### å®‰è£…è¯ä¹¦

`è®¾ç½®` ğŸ‘‰ `é€šç”¨` ğŸ‘‰ `VPNä¸è®¾å¤‡ç®¡ç†` ğŸ‘‰ `å·²ä¸‹è½½çš„ Charles Proxy å®‰è£…`

### ä¿¡ä»»è¯ä¹¦

`è®¾ç½®` ğŸ‘‰ `é€šç”¨` ğŸ‘‰ `å…³äºæœ¬æœº` ğŸ‘‰ `è¯ä¹¦ä¿¡ä»»è®¾ç½®`ï¼ˆè‹¥æœªä¿¡ä»»ï¼Œè¿›è¡Œä¿¡ä»»ï¼‰

![cert](/images/charles/10.png)

## ç»“æŸ

çœ‹çœ‹æœ€ç»ˆæˆæœ

![cert](/images/charles/11.png)

## å‚è€ƒé“¾æ¥

[å°ç¨‹åºæŠ“åŒ…æµç¨‹](https://dev.weixin.qq.com/docs/gateway/snifferpacket.html)

[Charles æŠ“ https åŒ…æ˜¾ç¤ºï¼œ unknown ï¼](https://blog.csdn.net/ios_xumin/article/details/122218974)
